## Fabric8 Base Images

This repository holds a set of useful Docker base images:

| Image | Description  |
| --------------------------------------------- | ---------------------------------------- |
| **[java](#java-base-images)** | Java base images useful for microservices or JEE application servers|
| **[sti](#sti)** | Source-To-Image base image useful when running in OpenShift V3 |
| **[tomcat](#application-servers)** | Tomcat 5.5, 6 - 8 images (+ a STI variant) |
| **[jetty](#application-servers)** | Jetty 4 - 9 images (+ a STI variant) |
| **[karaf](#application-servers)** | Karaf 2.3 and 3 images |

The Docker build files for these images are generated by
[fish-pepper](https://github.com/rhuss/fish-pepper), a sophisticated
template system for generation Docker builds. `fish-pepper` allows
the composition of various building block so that parametrized Docker
builds are easy possible. 

In order to regenerate all Dockerfiles from the provided templates you
need only to install `fish-pepper` via npm (assuming that you have
[node.js](https://nodejs.org/) installed)

```
npm -g install fish-pepper
fish-pepper
```

### Java Base Images

The Java base images come in different flavors:

* Based on [CentOS 7](https://www.centos.org/) or
  [Alpine Linux](https://www.alpinelinux.org/) (experimental) 
* [OpenJDK 7](http://openjdk.java.net/projects/jdk7/) or
  [OpenJDK 8](http://openjdk.java.net/projects/jdk8/) 
* As JDK (Java Developer Toolkit) or as JRE (Java Runtime Environment)

All images have the following features:

* [agent-bond](https://github.com/fabric8io/agent-bond) is included
  which combines [Jolokia](http://www.jolokia.org) and
  [jmx_exporter](https://github.com/prometheus/jmx_exporter) 
* A startup script `/run-java.sh` is included which transparently
  starts Java application provided as FAT-jar or traditionally with a
  bunch of jar dependencies.

How to use these images and what environment variables can be used are
described in the associated [README](java/images/centos/openjdk8/jdk/README.md) files.  

### STI

STI builder images for OpenShift V3 come in two flavors, one based on
[CentOS 7](https://www.centos.org/) the other has
[RHEL 7](http://www.redhat.com) as base. 

These images support also
[agent-bond](https://github.com/fabric8io/agent-bond) and the same
startup script as the vanilla Java images described above.
 
The [README](sti/images/centos7/README.md) contains more details. 

### Application Servers

This project also provides images for various application servers
which can be used out of the box.

All images are enabled with `agent-bond` since they are derived from the
base images described above. You can use the same environment
variables to setup the agents. 

The following applicaton servers are supported:

* Tomcat:
  [5.5](tomcat/images/5.5/README.md),[6](tomcat/images/6/README.md),
  [7](tomcat/images/7/README.md) and [8](tomcat/images/8/README.md)
* Jetty:
  [4](jetty/images/4/README.md), [5](jetty/images/5/README.md),
  [6](jetty/images/6/README.md), [7](jetty/images/7/README.md),
  [8](jetty/images/8/README.md) and [9](jetty/images/9/README.md)
* Karaf:
  [2.4](karaf/2.4/images/README.md) and [3](karaf/3/images/README.md)



