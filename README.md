## Fabric8 Base Images

This repository holds a set of useful Docker base images:

| Image | Description  |
| --------------------------------------------- | ---------------------------------------- |
| **[java](#java-base-images)** | Java base images useful for microservices or JEE application servers|
| **[sti](#sti)** | Source-To-Image base image useful when running in OpenShift V3 |
| **app-servers** | Various application servers like Tomcat, Jetty or Karaf (*to be done*) |

The Docker build files for these images are generated by
[fish-pepper](https://github.com/rhuss/fish-pepper), a sophisticated
template system for generation Docker builds. `fish-pepper` allows
the composition of various building block so that parametrized Docker
builds are easy possible. 

In order to regenerate all Dockerfiles from the provided templates you
need only to install `fish-pepper` via npm (assuming that you have
[node.js](https://nodejs.org/) installed)

```
npm -g install fish-pepper
fish-pepper
```

### Java Base Images

The Java base images come in different flavors:

* Based on [CentOS 7](https://www.centos.org/) or
  [Alpine Linux](https://www.alpinelinux.org/) (experimental) 
* [OpenJDK 7](http://openjdk.java.net/projects/jdk7/) or
  [OpenJDK 8](http://openjdk.java.net/projects/jdk8/) 
* As JDK (Java Developer Toolkit) or as JRE (Java Runtime Environment)

All images have the following features:

* [agent-bond](https://github.com/fabric8io/agent-bond) is included
  which combines [Jolokia](http://www.jolokia.org) and
  [jmx_exporter](https://github.com/prometheus/jmx_exporter) 
* A startup script `/run-java.sh` is included which transparently
  starts Java application provided as FAT-jar or traditionally with a
  bunch of jar dependencies.

How to use these images and what environment variables can be used are
described in the associated [README](java/images/centos/openjdk8/jdk/README.md) files.  

### STI

STI builder images for OpenShift V3 come in two flavors, one based on
[CentOS 7](https://www.centos.org/) the other has
[RHEL 7](http://www.redhat.com) as base. 

These images support also
[agent-bond](https://github.com/fabric8io/agent-bond) and the same
startup script as the vanilla Java images described above.
 
The [README](sti/images/centos7/README.md) contains more details. 

### Application Servers

*to be done*
